<!DOCTYPE HTML>
<html>
<head>
	<meta charset="UTF-8" />
	<title>Phaser Template</title>
	<script src="phaser.js"></script>

	<!-- Class Files  -->
	<script src="TextBox.js"></script>

</head>
<body>

<div id="gameContainer"></div>
<p>Press <b>spacebar</b> to advance the text</p>

<script>
	var game;
	window.onload = function() {
		game = new Phaser.Game(800, 600, Phaser.AUTO, 'gameContainer', {preload: preload, create: create, update: update});
	};

	function preload(){
		game.load.image('continue', 'continue.png');
		game.load.image('end', 'end.png');
		game.load.image('time', 'Temple-of-Time.png');

	}

	function create(){
		game.stage.backgroundColor = "#333";
		game.add.sprite(0,0, 'time');

		//
		// Specify variables
		//
		var x = 150;
		var y = 400;
		var width = 500;
		var numberOfLines = 3;
		var anchor = "top";  // top or bottom (default top)
		var borderRadius = 15;
		var textColor = "#fff";
		var backgroundColor = "rgba(30, 30, 30, 0.8)";
		var text = "Thank you, Link... Thanks to you, Ganondorf has been sealed inside the Evil Realm! Thus, peace will once again reign in this world... for a time. All the tragedy that has befallen Hyrule was my doing... I was so young... I could not comprehend the consequences of trying to control the Sacred Realm. I dragged you into it, too. Now it is time for me to make up for my mistakes... You must lay the Master Sword to rest and close the Door of Time... However, by doing this, the road between times will be closed... Link, give the Ocarina to me... As a Sage, I can return you to your original time with it. When peace returns to Hyrule... It will be time for us to say good-bye... Now, go home, Link. Regain your lost time! Home... where you are supposed to be... the way you are supposed to be... Thank you... Link... Good-bye.";

		//
		// Call constructor
		//
		var myTextBox = new TextBox(x, y, anchor, width, numberOfLines, text, borderRadius, textColor, backgroundColor);


		// Call showNext every 3 sec until it returns false
		//
		/*
		function callNext(){
			var rtn = myTextBox.showNext();
			if(rtn){
				setTimeout(callNext, 3000);

			}else{
				delete myTextBox;

			}
		}
		setTimeout(callNext, 3000);
		*/

		// Call showNext method on spacebar press
		//
		var next = this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);
		next.onDown.add(function(){ myTextBox.showNext() }, this);

	}

	function update(){

	}
</script>

</body>
</html>
